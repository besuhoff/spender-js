<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-navbar" aria-expanded="false">
        <span class="sr-only">Меню</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">Транжира</span>
    </div>

    <div class="collapse navbar-collapse" id="header-navbar" data-toggle="collapse" data-target="#header-navbar.collapse.in">
      <ul class="nav navbar-nav main-menu">
        <li ui-sref-active="active" class="main-menu__tab main-menu__tab--expenses"><a ui-sref="expenses">Траты</a></li>
        <li ui-sref-active="active" class="main-menu__tab main-menu__tab--income"><a ui-sref="income">Доход</a></li>
        <li ui-sref-active="active" class="main-menu__tab main-menu__tab--transfers"><a ui-sref="transfers">Переводы</a></li>
        <li ui-sref-active="active" class="main-menu__tab main-menu__tab--categories"><a ui-sref="categories">Категории</a></li>
        <li ui-sref-active="active" class="main-menu__tab main-menu__tab--income-categories"><a ui-sref="income-categories">Источники</a></li>
        <li ui-sref-active="active" class="main-menu__tab main-menu__tab--payment-methods"><a ui-sref="payment-methods">Cредства</a></li>
        <li ui-sref-active="active" class="main-menu__tab main-menu__tab--history"><a ui-sref="history">История</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container navbar-padded">
  <div class="media header">
    <div class="media-left">
      <div class="media-object user-avatar" ng-style="{ 'background-image': 'url(' + $ctrl.profile.getImageUrl() + ')' }"></div>
    </div>
    <div class="media-body">
      <h4 class="media-heading">Хэй, {{$ctrl.profile.getGivenName()}}!</h4>
      <a ng-click="$ctrl.signOut();" href=""><i class="fa fa-sign-out fa-lg"></i> Выйти</a>
    </div>
  </div>

  <div>

    <!-- Tab panes -->
    <div class="tab-content">
      <div class="tab-pane active"><div ui-view></div></div>
    </div>

  </div>


  <div class="management">
    <h3>Остатки</h3>
    <table class="table-remains">
      <tr ng-repeat="paymentMethod in $ctrl.paymentMethods"><td class="td-label">{{paymentMethod.name}}</td><td class="td-number">{{(paymentMethod.incomes - paymentMethod.expenses) | currency:'':2 }}</td></tr>
    </table>
  </div>

  <div class="charts" ng-if="$ctrl.balanceChart">
    <h3>Динамика остатков за последний месяц</h3>
    <div class="row">
      <div class="col-md-6" ng-repeat="(currency, chartData) in $ctrl.balanceChart">
        <h4>{{currency}}</h4>
        <canvas class="chart chart-line"
                chart-labels="chartData.labels"
                chart-options="chartData.options"
                chart-data="chartData.data"
                chart-dataset-override="chartData.datasets">
        </canvas>
      </div>
    </div>
  </div>

  <copy></copy>
</div>

